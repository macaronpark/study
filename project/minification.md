# Minification <!-- omit from toc -->

## 케이스

- third part js script
- 해당 script 내용이 그대로 네트워크 - 소스 탭에 보여지는 경우

## 문제

- 보안적으로 문제가 되는 포인트? 보안 강화할 수 있는 방법?
- 성능 최적화를 위해 minification 적용? 적용한다면 유효한 로딩 속도 개선이 있을지?

## 현재 상태 파악

- 소스 코드 -> (빌드 없음) -> S3 -> 브라우저
  - 문제점
    - 모든 변수명, 함수명, 로직, 주석 노출
    - 파일 크기 최적화 안 되어 있음

## 찾아볼 것

- minification
- source map
- 빌드 도구와 번들러: 번들링, 최소화, 트리셰이킹
- 개선 방안
  - 1안: github actions에 terser 스텝 추가
  - 2안: vite 도입
    - 캐시 무효화 자동화 (해시 기반 파일명) 관련 내용 찾아보기

## 원본 코드 노출 시 문제점

- 비즈니스 로직 완전 공개
  - 함수명, 변수명, 주석으로 의도 파악 쉬움
  - 알고리즘 그대로 복제 가능
- 보안 취약점 발견 용이
  - 검증 로직 우회 방법 찾기 쉬움
  - API 엔드포인트 구조 노출
  - 에러 핸들링 로직 파악 가능
- 성능 문제
  - 파일 크기
  - 사용자 로딩 속도
  - CDN 비용
- 전문성 문제
  - 빌드 최적화도 안 했네라고 생각할 수 있음
