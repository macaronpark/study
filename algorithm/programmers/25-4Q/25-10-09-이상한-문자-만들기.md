- [문제 설명](#문제-설명)
- [초기 접근](#초기-접근)
- [문제와 생각](#문제와-생각)
- [해결](#해결)

<br>

## 문제 설명

[프로그래머스 Lv. 1 - 이상한 문자 만들기](https://school.programmers.co.kr/learn/courses/30/lessons/12930)

- 설명
  - 문자열 s는 한 개 이상의 단어로 구성되어 있습니다. 각 단어는 하나 이상의 공백문자로 구분되어 있습니다. 각 단어의 짝수번째 알파벳은 대문자로, 홀수번째 알파벳은 소문자로 바꾼 문자열을 리턴하는 함수, solution을 완성하세요.
- 제한사항
  - 문자열 전체의 짝/홀수 인덱스가 아니라, 단어(공백을 기준)별로 짝/홀수 인덱스를 판단해야합니다.
  - 첫 번째 글자는 0번째 인덱스로 보아 짝수번째 알파벳으로 처리해야 합니다.
- 예시

  | s                 | return            |
  | ----------------- | ----------------- |
  | "try hello world" | "TrY HeLlO WoRlD" |

<br>

## 초기 접근

```javascript
function solution(s) {
  return s
    .split(" ")
    .map((word) =>
      [...word].map((c, idx) => (idx % 2 === 0 ? c.toUpperCase() : c.toLowerCase())).join("")
    )
    .join(" ");
}
```

- 시간 복잡도: **O(n)**
  - split: 문자열 수 만큼 순회
  - map: 단어 수 + 단어의 문자열 수 만큼 순회
  - join: 단어 수 만큼 순회
- 공간 복잡도: **O(n)**
  - split: 단어 수만큼의 요소를 가지는 배열 생성
  - spread operator: 단어별 문자열 수 만큼의 요소를 가지는 배열 생성
  - map: 단어별 문자열 수 만큼의 요소를 가지는 배열 생성

<br>

## 문제와 생각

- 초기 접근의 문제점
  - 중간 배열 여러 번 생성 => 메모리 사용량 증가
- 개선 방향
  - 불필요한 배열 생성 제거
  - 단일 순회

<br>

## 해결

```javascript
function solution(s) {
  let str = "";
  let idx = 0;

  for (const c of s) {
    if (c === " ") {
      str += " ";
      idx = 0;
    } else {
      str += idx % 2 === 0 ? c.toUpperCase() : c.toLowerCase();
      idx++;
    }
  }

  return str;
}
```

- 시간 복잡도: **O(n)**
  - 입력 문자열 길이 만큼 순회
  - 한 번만 훑으므로 초기 접근보다 빠를거라 생각했는데
    - 실제로 실행 시간(100 단어 × 10 글자, 1,000 단어 × 20 글자, 10,000 단어 × 30 글자)을 측정해본 결과, 초기 접근(split, map, join)이 더 빨랐음
      - 해당 메서드들은 V8에서 최적화된 C++ 코드
      - `+=`는 JS 레벨의 반복문
- 공간 복잡도: **O(n)**
  - 입력 문자열 길이만큼의 새 문자열 공간 필요
  - ~~`+=`로 새 문자열을 생성하므로 문자열이 매우 길어질 경우에는 비효율적일 수 있음~~
    - **오래된 브라우저(IE7 이하)에서는** `str += c`가 매우 느렸음
      - 배열 `push()` → `join()` 패턴이 수백 배 빠른 경우도 있었음
    - **현대 JavaScript 엔진(V8 등)에서는**
      - 문자열 연결이 내부적으로 최적화됨
      - 일반적인 사용(수만 번 이하 연결)에서는 `+=`가 충분히 빠름
      - 극단적으로 많은 연결(100만 번 이상)에서만 `join()`이 더 나을 수 있음
  - 중간 배열을 생성하지 않아 초기 접근보다 메모리 효율적
    - => 문자열 처리 문제를 만나면 불필요한 배열 생성을 줄여 메모리 효율에 도움이 방법으로 생각해보자
