# Test double

테스트에서 실제 객체나 모듈 대신 투입하는 대체품

- 테스트 대상 코드가 의존하는 외부 요소를 대체해서 제어 가능하고 예측 가능한 환경을 만드는 방법

- **Dummy**
  - 목적: **자리 채움**
  - 특징: 호출되지만 사용 안 됨
  - 예시: 클릭 핸들러에 `() => {}` 같은 빈 함수
- **Stub**
  - 목적: **정해진 값 반환**
  - 특징: 외부 의존성의 리턴을 고정
  - 예시: `rng: () => 0.4` 를 인자로 주입해서 항상 A 구간 선택
- **Spy**
  - 목적: **호출 기록 확인**
  - 특징: 인자/호출 횟수 검증
  - 예시: `jest.fn()`으로 `rng` 감싸고 “몇 번 호출됐나” 확인
- **Mock**
  - 목적: **행동 기대까지 검증**
  - 특징: “이렇게 불러야 한다”를 계약으로 검사 → 구현 결합↑
  - 예시: `expect(rng).toHaveBeenCalledWith(/*없음*/)` 같은 호출 형태 강제
- **Fake**
  - 목적: **간이 실제 구현**
  - 특징: 속도 빠른 대체품
  - 예시: 시드 고정 PRNG(예: seed 기반 RNG) 객체 주입
